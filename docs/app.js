!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,a=function(e,t){for(var n,r=[],i=(o.test(t)?e+"/"+t:t).split("/"),a=0,u=i.length;a<u;a++)n=i[a],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},c=function(t){return function(n){var r=a(u(t),n);return e.require(r,t)}},d=function(e,t){var r=g&&g.createHot(e),i={id:e,exports:{},hot:r};return n[e]=i,t(i.exports,c(e),i),i.exports},s=function(e){var t=r[e];return t&&e!==t?s(t):e},l=function(e,t){return s(a(u(e),t))},m=function(e,r){null==r&&(r="/");var o=s(e);if(i.call(n,o))return n[o].exports;if(i.call(t,o))return d(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};m.alias=function(e,t){r[t]=e};var f=/\.[^.\/]+$/,v=/\/index(\.[^\/]+)?$/,p=function(e){if(f.test(e)){var t=e.replace(f,"");i.call(r,t)&&r[t].replace(f,"")!==t+"/index"||(r[t]=e)}if(v.test(e)){var n=e.replace(v,"");i.call(r,n)||(r[n]=e)}};m.register=m.define=function(e,r){if(e&&"object"==typeof e)for(var o in e)i.call(e,o)&&m.register(o,e[o]);else t[e]=r,delete n[e],p(e)},m.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var g=e._hmr&&new e._hmr(l,m,t,n);m._cache=n,m.hmr=g&&g.wrap,m.brunch=!0,e.require=m}}(),function(){"undefined"==typeof window?this:window;require.register("app.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=r(t("./layout.js")),o=r(t("./home.js")),a=r(t("./picture.js")),u=r(t("./idmaker.js")),c=function(e){return{"/home":{onmatch:function(){e.page="ID Cards"},render:function(){return m(i["default"],{mdl:e},m(o["default"],{mdl:e}))}},"/addcard":{onmatch:function(){e.page="Add New Card"},render:function(){return m(i["default"],{mdl:e},m(u["default"],{mdl:e}))}},"/picture":{onmatch:function(){e.page="".concat(e.side,"picture")},render:function(){return m(i["default"],{mdl:e},m(a["default"],{mdl:e}))}},"/:idcard":{onmatch:function(){!e.card.name&&m.route.set("/home"),e.page=e.card.name},render:function(){return m(i["default"],{mdl:e},m(u["default"],{mdl:e}))}}}},d=c;e["default"]=d}),require.register("home.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=function(e){var t=e.attrs.mdl,n=function(e){t.card=e,console.log(t,e),m.route.set("/".concat(e.name))};return{view:function(e){var t=e.attrs.card;return m(".card",{onclick:function(){return n(t)}},[m("label",t.name),m("img",{width:100,src:t.front.src})])}}},i=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&m.route.set("/addcard")},o=function(e){e.card.front=void 0,e.card.back=void 0,e.card.name=void 0},a=function(e){var t=e.attrs.mdl;return{oninit:function(){return o(t)},view:function(e){var t=e.attrs.mdl;return m(".container.columns",[t.idCards&&t.idCards.map(function(e){return m(r,{mdl:t,card:e})}),m("button.empty.col-12",{onclick:i},[m(".icon icon-photo"),m("p","Add a New Card")])])}}},u=a;e["default"]=u}),require.register("idmaker.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=function(e){var t=e.attrs.mdl;t.state={name:t.state.name?t.state.name:t.card.name,back:t.card.back,front:t.card.front};var n=function(e,t){t.side=e,m.route.set("/picture")},r=function(e){t.idCards.push(e),m.route.set("/home")},i=function(e,t,n){e.width=t.card[n].width,e.height=t.card[n].height,e.getContext("2d").drawImage(t.card[n],0,0)},o=function(e,t){t.side=e,m.route.set("/picture")};return{view:function(e){var t=e.attrs.mdl;return m(".container.columns",{id:"idmaker"},[m(".form-group",[m("label","NAME: "),m("input",{type:"text",value:t.state.name,oninput:function(e){return t.state.name=e.target.value}})]),m(".column.col-12",t.state.front?m("canvas.id-preview",{oncreate:function(e){var n=e.dom;return i(n,t,"front")},onclick:function(){return o("front",t)}}):m(".card.empty",{onclick:function(e){return n("front",t)}},[m(".icon icon-photo"),m("p","Add Front")])),m(".column.col-12",t.state.back?m("canvas.id-preview",{oncreate:function(e){var n=e.dom;return i(n,t,"back")},onclick:function(){return o("back",t)}}):m(".card.empty",{onclick:function(){return n("back",t)}},[m(".icon icon-photo"),m("p","Add Back")])),m("button.btn.btn-lg",{onclick:function(e){return r(t.state)}},"SAVE")])}}},i=r;e["default"]=i}),require.register("index.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=r(t("./app.js")),o=r(t("./model.js")),a=document.body,u=window.innerWidth;n.hot&&n.hot.accept(),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./service-worker.js").then(function(e){console.log("âš™ï¸ SW registered: ",e)})["catch"](function(e){console.log("ðŸ§Ÿ SW registration failed: ",e)})});var c=function(e){return e<668?"phone":e<920?"tablet":"desktop"},d=function s(e){var t=window.innerWidth;if(e!==t){e=t;var n=o["default"].settings.profile;o["default"].settings.profile=c(t),n!=o["default"].settings.profile&&m.redraw()}return requestAnimationFrame(s)};o["default"].settings.profile=c(u),d(u),m.route(a,"/home",(0,i["default"])(o["default"]))}),require.register("initialize.js",function(e,t,n){"use strict";document.addEventListener("DOMContentLoaded",function(){t("./index.js")})}),require.register("layout.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=function(){var e=function(e){return e.name?m.route.set("/".concat(e.name)):m.route.set("/addcard")};return{view:function(t){var n=t.attrs.mdl;return m(".header",["/home"!==m.route.get()&&m("button.btn",{onclick:function(){return m.route.set("/home")}},"HOME"),"/addcard"!==m.route.get()&&"/home"!==m.route.get()&&m("button.btn",{onclick:function(t){return e(n)}},"BACK"),n.page])}}},i=function(){return{view:function(e){var t=e.children,n=e.attrs.mdl;return m(".container",[m(r,{mdl:n}),t,m("pre",JSON.stringify(n,null,4))])}}},o=i;e["default"]=o}),require.register("model.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r={state:{},settings:{},page:"",idCards:[],stream:void 0,card:{front:void 0,back:void 0,name:void 0}},i=r;e["default"]=i}),require.register("picture.js",function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r={view:function(){return m("svg",{viewBox:"0 0 100 100",id:"picture-overlay"},[m("path",{d:"M-25,10 L-50,10 L-50,35",fill:"none",stroke:"white","stroke-width":"3"}),m("path",{d:"M-50,65 L-50,90 L-25,90",fill:"none",stroke:"white","stroke-width":"3"}),m("path",{d:"M125,90 L150,90 L150,65",fill:"none",stroke:"white","stroke-width":"3"}),m("path",{d:"M150,35 L150,10 L125,10",fill:"none",stroke:"white","stroke-width":"3"})])}},i=function(e,t){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{width:670,height:300,facingMode:{camera:"environment"}}}).then(function(n){t.stream=n,e.srcObject=n,e.play(),t.video=e},function(e){return console.log(e)})},o=function(e){var t=new Image;document.getElementById("canvas").getContext("2d").drawImage(e.video,0,0,670,300),t.src=document.getElementById("canvas").toDataURL("image/webp"),e.card[e.side]=t,m.route.set("/addcard")},a=function(){return{view:function(e){var t=e.attrs.mdl;return m(".container",[m("",{id:"picture-container"},[m("video",{id:"video",oncreate:function(e){var n=e.dom;return i(n,t)},autoplay:!0,playsinline:!0}),m(r),m("canvas",{id:"canvas"})]),m("button",{onclick:function(){return o(t)}},"Save")])},onremove:function(e){var t=e.attrs.mdl;return t.stream.getTracks().forEach(function(e){e.stop()})}}},u=a;e["default"]=u}),require.register("___globals___",function(e,t,n){window.m=t("mithril"),window.Stream=t("mithril-stream")})}(),require("___globals___");